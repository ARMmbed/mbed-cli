test:
    override:
        - py.test test
        - cd ../tests && mbed new new-test
        - cd ../tests && mbed import https://github.com/ARMmbed/mbed-Client-example-temp git-test
        - cd ../tests/git-test && mbed update 2d9404a4f88db7de0e5a9ea2acdbca1aeacab9c4 --clean
        - cd ../tests/git-test && mbed update master --clean
        - cd ../tests && mbed import https://developer.mbed.org/teams/Morpheus/code/mbed-Client-Morpheus-hg hg-test
        - cd ../tests/hg-test && mbed update b02527cafcde8612ff051fea57e9975aca598807 --clean
        - cd ../tests/hg-test && mbed update --clean
        - cd ../tests && mbed import https://developer.mbed.org/users/samux/code/USBSerial_HelloWorld bld-test
        - cd ../tests/bld-test/mbed && mbed update 95 --clean
        - cd ../tests/bld-test && mbed update --clean

dependencies:
    pre:
        - sudo pip install pytest
        - git config --global user.email "test@test.com"
        - git config --global user.name "Tester"
        - echo -e "[ui]\nusername = Tester <test@test.com>\n" > ~/.hgrc
        - cd ../ && mkdir tests